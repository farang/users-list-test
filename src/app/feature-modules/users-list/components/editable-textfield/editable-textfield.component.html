<div
  class="text-content"
  *ngIf="!editMode"
  (click)="editMode = true; prevValue = value; matFieldEl.focus()"
>
  <ng-content></ng-content>
</div>

<mat-form-field [hidden]="!editMode" appearance="fill">
  <input matInput #matFieldEl [mask]="mask || ''" [formControl]="ctrl" />
  <button mat-icon-button matSuffix (click)="save()" [disabled]="ctrl.invalid">
    <mat-icon>save</mat-icon>
  </button>
  <button mat-icon-button matSuffix (click)="cancel()">
    <mat-icon>cancel</mat-icon>
  </button>
</mat-form-field>

<div class="error-block">
  <mat-error *ngIf="ctrl.hasError('email') && !ctrl.hasError('required')">
    Please enter a valid email address
  </mat-error>
  <mat-error *ngIf="ctrl.hasError('phone') && !ctrl.hasError('required')">
    Phone is not valid
  </mat-error>
  <mat-error *ngIf="ctrl.hasError('required')">
    Is <strong>required</strong>
  </mat-error>
</div>
